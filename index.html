<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[title]</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        fetch('data/head.json')
        .then(res => res.json())
        .then(cfg => {
            // set title
            document.title = cfg.title;

            // apply Tailwind theme dynamically
            tailwind.config = {
            theme: {
                extend: cfg.theme
            }
            };
        })
        .catch(err => console.error('Failed to load config:', err));
    </script>
</head>

<body class=" text-text font-sans">
    <main >
        <!-- Title + logo section -->
        <section id="home" class="text-center mx-auto bg-first pb-16">
            <div class="max-w-[1000px] mx-auto">
                <img src="http://placeholders/600x400/272a34/d6d9e0.svg" alt="logo" class="m-auto w-auto py-8 spx-2" />
                <div class="mx-auto rounded-xl pt-8">
                    <h1 id="event-subtitle" class="text-5xl italic font-extrabold pb-8 text-text">[subtitle]</h1>
                    <h2 id="event-date" class="text-3xl italic font-extrabold py-8 text-text">[date]</h1>
                    <div class="flex mx-auto justify-center space-x-4 py-8">
                        <a href="#" class="transition-transform duration-200 hover:scale-90">
                            <img src="images/facebook.svg" alt="facebook" class="h-12 w-12"/>
                        </a>
                        <a href="#" class="transition-transform duration-200 hover:scale-90">
                            <img src="images/instagram.svg" alt="instagram" class="h-12 w-12"/>
                        </a>
                        <a href="#" class="transition-transform duration-200 hover:scale-90">
                            <img src="images/tickets.png" alt="tickets_icon" class="h-12 w-12"/>
                        </a>
                    </div>
                    <div class="bg-second max-w-3xl h-auto rounded-2xl shadow-[-3px_-3px_0_#142040] pb-8 mx-4 w-auto md:mx-auto">
                        <h1 class="text-5xl pt-2 pb-4 text-text2 font-extrabold">Lieu</h1>
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d588.6567829155268!2d-75.71693223620657!3d45.42669245534004!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4cce05a66e283cb9%3A0x3cd33f0d18b45517!2sPlace%20Laval!5e0!3m2!1sfr!2sca!4v1762119938029!5m2!1sfr!2sca"
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade"
                            class="mx-auto rounded-lg brightness-[0.8] contrast-[0.9] max-w-96 mx-auto"
                        >
                        </iframe>
                    </div>
                    <img src="https://placehold.co/600x800/272a34/d6d9e0/svg?text=Affiche des artistes\n600x800" alt="programmation" class="m-auto w-auto pt-16 spx-2" />
                </div>
            </div>
        </section>

        <!-- Artists -->
        <section id="artists" class="bg-third">
            <div class="max-w-[1000px] mx-auto py-8">
                <h2 class="text-4xl font-extrabold text-center text-text w-64 py-8 mx-auto">[title]</h2>
                <div id="artists-container" class="grid grid-cols-2 md:grid-cols-3 gap-8"></div>
            </div>
        </section>

        <!-- Past Event -->
        <section id="past-events" class="bg-third">
            <div class="max-w-[1000px] mx-auto pb-16">
                <h2 class="text-4xl font-extrabold text-center text-text py-8 mx-auto">[title]</h2>
                <div id="past-events-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"></div>
            </div>
        </section>

        <!-- Partners -->
        <section id="partners" class="bg-third">
            <div class="max-w-[1000px] mx-auto pb-8">
                <h3 class="text-4xl font-extrabold text-center text-text mx-auto">[title]</h3>
                <div id="support-partners" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-4 py-8"></div>
            </div>
            
        </section>

        <!-- ABOUT -->
        <section id="about" class="bg-first">
            <h2 class="text-4xl font-extrabold text-center text-text pt-16 pb-8">[title]</h2>

            <div class="max-w-5xl mx-auto bg-second rounded-3xl shadow-[-3px_-3px_0_#142040] grid grid-cols-1 md:grid-cols-2">
                <!-- image -->
                <div class="overflow-hidden rounded-l-3xl">
                    <img src="" alt="About section image" class="w-full h-full object-cover">
                </div>
                <!-- text -->
                <div class="p-6 flex flex-col justify-center">
                    <div class="prose prose-lg max-w-none text-gray-700">
                        <p>[paragraph1]</p>
                        <p>[paragraph2]</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Json EXTRACTION section -->

    <!-- home.json -> home <section> -->
    <script>
    fetch('data/home.json')
        .then(res => res.json())
        .then(data => {
            document.querySelector('#home h1').textContent = data.title
            document.querySelector('#home img').src = data.logo

            document.getElementById('event-subtitle').textContent = data.subtitle;
            document.getElementById('event-date').textContent = data.time;
            document.getElementById('event-location').textContent = data.location;

        })
        .catch(err => console.error('Failed to load program:', err));
    </script>

    <!-- artists.json -> artists <section> -->
    <script>
        fetch('data/artists.json')
        .then(res => res.json())
        .then(data => {
            document.querySelector('#artists h2').textContent = data.title
            const container = document.getElementById('artists-container');
            data.artists.forEach(a => {
            const card = document.createElement('div');
            // 1. Add 'relative' and 'group' to the parent container
            card.className = `
                relative 
                rounded-lg 
                overflow-hidden 
                group 
                transition-transform duration-300 hover:scale-105
                cursor-pointer
            `;

            // 2. Position the title absolutely at the bottom
            // 3. Set opacity to 0 (hidden) and group-hover:opacity to 100 (visible)
            card.innerHTML = `
                <img src="${a.photo}" alt="${a.name}" class="w-full h-auto object-cover align-middle">
                
                <div class="
                    absolute bottom-0 left-0 w-full
                    bg-fifth/30 
                    backdrop-blur-[2px]
                    p-2 text-center
                    opacity-0 group-hover:opacity-50
                    transition-opacity duration-300
                ">
                    <h3 class="text-xl font-extrabold text-text">${a.name}</h3>
                </div>
            `;
            container.appendChild(card);
            });
        })
        .catch(err => console.error('Failed to load artists:', err));
    </script>

    <!-- Past_event.json -> "past-events" <section> -->
    <script>
        fetch('data/past_event.json')
        .then(res => res.json())
        .then(data => {
            document.querySelector('#past-events h2').textContent = data.title;
            const container = document.getElementById('past-events-container');
            data.photos.forEach(photo => {
            const img = document.createElement('img');
            img.src = photo.src;
            img.alt = photo.alt;
            img.className = 'w-full h-auto object-cover rounded-lg shadow-md';
            container.appendChild(img);
            });
        })
        .catch(err => console.error('Failed to load past events:', err));
    </script>
    
    <!-- partners.json -> partners <section> -->
    <script>
        fetch('data/partners.json')
        .then(res => res.json())
        .then(data => {
            document.querySelector('#partners h3').textContent = data.subtitle

            const supportContainer = document.getElementById('support-partners');

            data.support.forEach(p => {
                const card = document.createElement('div');
                card.className = `bg-bg h-24 rounded-lg shadow-md flex items-center justify-center p-4 border border-border-muted rounded-xl
                    border-t-highlight
                    overflow-hidden
                    bg-gradient-to-br from-bg-light to-bg
                    shadow-xl shadow-border/50
                `;
                card.innerHTML = `
                    <img src="${p.logo}" alt="${p.name} Logo" class="max-h-12">
                `;
                supportContainer.appendChild(card);
            });
        })
        .catch(err => console.error('Failed to load partners:', err));
    </script>

    <!-- about.json -> "about" <section> -->
    <script>
        fetch('data/about.json')
        .then(res => res.json())
        .then(data => {
            const section = document.getElementById('about');
            section.querySelector('h2').textContent = data.title;
            
            const img = section.querySelector('img');
            if (img) img.src = data.image;

            const prose = section.querySelector('.prose');
            if (prose)
            prose.innerHTML = data.paragraphs.map(p => `<p>${p}</p>`).join('');
        })
        .catch(err => console.error('Failed to load about section:', err));
    </script>



</body>
</html>